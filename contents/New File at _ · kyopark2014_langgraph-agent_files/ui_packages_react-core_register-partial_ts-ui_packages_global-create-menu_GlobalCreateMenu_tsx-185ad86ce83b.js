"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_react-core_register-partial_ts-ui_packages_global-create-menu_GlobalCreateMenu_tsx"],{51848:(e,t,r)=>{let n;r.d(t,{BI:()=>_,Ti:()=>p,lA:()=>m});var a=r(70837),s=r(97524),i=r(74572),o=r(51528);let{getItem:l}=(0,i.A)("localStorage"),c="dimension_",d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,a.O)("octolytics");delete e.baseContext,n=new s.s(e)}catch(e){}function u(e){let t=(0,a.O)("octolytics").baseContext||{};if(t)for(let[e,r]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(c)&&(t[e.replace(c,"")]=r,delete t[e]);let r=document.querySelector("meta[name=visitor-payload]");for(let[e,n]of(r&&Object.assign(t,JSON.parse(atob(r.content))),new URLSearchParams(window.location.search)))d.includes(e.toLowerCase())&&(t[e]=n);return t.staff=(0,o.X)().toString(),Object.assign(t,e)}function m(e){n?.sendPageView(u(e))}function _(e,t={}){let r=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,a=r?{service:r}:{};for(let[e,r]of Object.entries(t))null!=r&&(a[e]=`${r}`);n&&(u(a),n.sendEvent(e||"unknown",u(a)))}function p(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},92536:(e,t,r)=>{r.d(t,{R:()=>DeferredRegistry});let DeferredRegistry=class DeferredRegistry{register(e,t){let r=this.registrationEntries[e];r?r.resolve?.(t):this.registrationEntries[e]={promise:Promise.resolve(t)}}getRegistration(e){var t;return(t=this.registrationEntries)[e]||(t[e]=new n),this.registrationEntries[e].promise}constructor(){this.registrationEntries={}}};let n=class Deferred{constructor(){this.promise=new Promise(e=>{this.resolve=e})}}},75014:(e,t,r)=>{r.d(t,{Mm:()=>s,QJ:()=>i,w8:()=>a});var n=r(96540);function a(e){return((0,n.useEffect)(()=>{let t=e?.anchor;t&&("disabled"in t&&(t.disabled=!1),t.classList.remove("cursor-wait"))},[e]),e)?{reactPartialAnchor:{__wrapperElement:e}}:{}}function s(e){let t=(0,n.useRef)(e.__wrapperElement.anchor||null),[r,a]=(0,n.useState)(!1),s=(0,n.useCallback)(()=>{a(!r)},[r,a]);return(0,n.useEffect)(()=>{t.current&&(t.current.setAttribute("aria-expanded",r.toString()),t.current.setAttribute("aria-haspopup","true"))},[t,r]),i(e,s),{ref:t,open:r,setOpen:a}}function i(e,t){let r=(0,n.useRef)(e.__wrapperElement.anchor);(0,n.useEffect)(()=>{let e=r.current;if(e)return e.addEventListener("click",t),()=>e.removeEventListener("click",t)},[r,t])}},72245:(e,t,r)=>{r.d(t,{k:()=>c});let n=new(r(92536)).R;var a=r(74848),s=r(39595),i=r(24508),o=r(23235);let l=class ReactPartialElement extends i.H{async getReactNode(e,t){var r;let{Component:s}=await (r=this.name,n.getRegistration(r)),i=this.closest("react-partial-anchor");return(0,a.jsx)(o.c,{partialName:this.name,embeddedData:e,Component:s,wasServerRendered:this.hasSSRContent,ssrError:this.ssrError,anchorElement:i,onError:t})}constructor(...e){super(...e),this.nameAttribute="partial-name"}};function c(e,t){n.register(e,t)}l=function(e,t,r,n){var a,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}([s.p_],l)},23581:(e,t,r)=>{r.d(t,{A:()=>o});let{getItem:n,setItem:a,removeItem:s}=(0,r(74572).A)("localStorage"),i="REACT_PROFILING_ENABLED",o={enable:()=>a(i,"true"),disable:()=>s(i),isEnabled:()=>!!n(i)}},71312:(e,t,r)=>{r.d(t,{S:()=>o,s:()=>i});var n=r(96540),a=r(51848),s=r(31481);function i(){let e=(0,n.useContext)(s.I);if(!e)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:t,category:r,metadata:i}=e;return{sendAnalyticsEvent:(0,n.useCallback)((e,n,s={})=>{let o={react:!0,app_name:t,category:r,...i};(0,a.BI)(e,{...o,...s,target:n})},[t,r,i])}}function o(){let{sendAnalyticsEvent:e}=i();return{sendClickAnalyticsEvent:(0,n.useCallback)((t={})=>{e("analytics.click",void 0,t)},[e])}}},22629:(e,t,r)=>{r.d(t,{O:()=>v,r:()=>j});var n=r(74848),a=r(71312),s=r(17909),i=r(38553),o=r(281),l=r(80577),c=r(59857),d=r(96540),u=r(75014);let m=(0,d.lazy)(()=>Promise.all([r.e("primer-react-css"),r.e("react-lib"),r.e("vendors-node_modules_dompurify_dist_purify_js"),r.e("vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-7845da"),r.e("vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js"),r.e("vendors-node_modules_react-router-dom_dist_index_js"),r.e("vendors-node_modules_primer_behaviors_dist_esm_focus-zone_js"),r.e("vendors-node_modules_primer_react_lib-esm_FilteredActionList_FilteredActionList_js"),r.e("vendors-node_modules_github_relative-time-element_dist_index_js"),r.e("vendors-node_modules_primer_react_lib-esm_ConfirmationDialog_ConfirmationDialog_js-node_modul-7bc97f"),r.e("vendors-node_modules_react-relay_index_js"),r.e("vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_stack-68835d"),r.e("vendors-node_modules_date-fns_format_mjs"),r.e("vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f"),r.e("vendors-node_modules_primer_react_lib-esm_KeybindingHint_KeybindingHint_js-node_modules_githu-3fe5e5"),r.e("vendors-node_modules_primer_react_lib-esm_Avatar_Avatar_js-node_modules_primer_react_lib-esm_-ba2414"),r.e("vendors-node_modules_primer_react_lib-esm_Popover_Popover_js-node_modules_primer_react_node_m-73dd48"),r.e("vendors-node_modules_primer_behaviors_dist_esm_anchored-position_js-node_modules_fzy_js_index-192fd2"),r.e("vendors-node_modules_primer_react_lib-esm_Button_LinkButton_js-node_modules_primer_react_lib--909e5c"),r.e("ui_packages_paths_index_ts"),r.e("ui_packages_relay-environment_relay-environment_ts"),r.e("ui_packages_item-picker_components_ItemPicker_tsx"),r.e("ui_packages_date-picker_date-picker_ts-ui_packages_github-avatar_GitHubAvatar_tsx"),r.e("ui_packages_item-picker_components_RepositoryPicker_tsx"),r.e("ui_packages_issue-create_dialog_CreateIssueDialogEntry_tsx"),r.e("node_modules_primer_react_lib-esm_hooks_useResponsiveValue_js-ui_packages_aria-live_aria-live-e12118")]).then(r.bind(r,36860)));function _({label:e,analyticsLabel:t}){return{category:"SiteHeaderComponent",action:"add_dropdown",label:t||e.toLowerCase()}}function p({label:e,href:t,LeadingVisual:r,analyticsLabel:i}){let{sendClickAnalyticsEvent:o}=(0,a.S)(),l=(0,d.useCallback)(()=>{o(_({label:e,analyticsLabel:i}))},[e,i,o]);return(0,n.jsxs)(s.l.LinkItem,{href:t,onClick:l,children:[(0,n.jsx)(s.l.LeadingVisual,{children:(0,n.jsx)(r,{})}),e]})}function h({label:e,onClick:t,LeadingVisual:r,analyticsLabel:i}){let{sendClickAnalyticsEvent:o}=(0,a.S)(),l=(0,d.useCallback)(()=>{o(_({label:e,analyticsLabel:i})),t()},[e,i,o,t]);return(0,n.jsxs)(s.l.Item,{onSelect:l,children:[(0,n.jsx)(s.l.LeadingVisual,{children:(0,n.jsx)(r,{})}),e]})}function g(){return(0,n.jsx)(i.A,{size:"small"})}function f({side:e="outside-bottom",createRepo:t,importRepo:r,createOrg:a,createProject:i,createProjectUrl:l,createLegacyProject:u,createIssue:_,codespaces:f,gist:b,org:y,owner:j,repo:x,isOpen:v=!1,setIsOpen:R=()=>{},environment:E}){let[w,C]=(0,d.useState)(!1),[N,S]=(0,d.useState)(!1),[k,A]=(0,d.useState)(v);(0,d.useEffect)(()=>{v&&A(!0)},[v]);let I=w&&!N;return(0,n.jsxs)(n.Fragment,{children:[_&&k&&(0,n.jsx)(d.Suspense,{children:(0,n.jsx)(m,{isVisible:w,setIsVisible:C,setIsLoaded:S,setIsParentMenuOpen:R,owner:j,repo:x,environment:E})}),(0,n.jsx)(o.W.Overlay,{side:e,children:(0,n.jsxs)(s.l,{children:[_&&(0,n.jsx)(h,{label:"New issue",onClick:()=>(C(!0),!1),LeadingVisual:I?g:c.IssueOpenedIcon}),!1!==t&&(0,n.jsx)(p,{label:"New repository",href:"/new",LeadingVisual:c.RepoIcon}),r&&(0,n.jsx)(p,{label:"Import repository",href:"/new/import",LeadingVisual:c.RepoPushIcon}),(f||b)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.l.Divider,{}),f&&(0,n.jsx)(p,{label:"New codespace",href:"/codespaces/new",LeadingVisual:c.CodespacesIcon}),b&&(0,n.jsx)(p,{label:"New gist",href:"/gist",LeadingVisual:c.CodeIcon})]}),(a||i||u)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.l.Divider,{}),a&&(0,n.jsx)(p,{label:"New organization",href:"/account/organizations/new",LeadingVisual:c.OrganizationIcon}),i&&(0,n.jsx)(p,{label:"New project",analyticsLabel:"new project",href:l,LeadingVisual:c.ProjectIcon}),!i&&u&&(0,n.jsx)(p,{label:"New project",analyticsLabel:"new legacy project",href:"/new/project",LeadingVisual:c.ProjectIcon})]}),y&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.l.Divider,{}),(0,n.jsx)(p,{label:`${y.addWord} someone to ${y.login}`,analyticsLabel:"invite someone",href:`/orgs/${y.login}/people#invite-member`,LeadingVisual:c.PersonAddIcon}),(0,n.jsx)(p,{label:`New team in ${y.login}`,analyticsLabel:"new team",href:`/orgs/${y.login}/new-team`,LeadingVisual:c.PeopleIcon}),(0,n.jsx)(p,{label:`New repository in ${y.login}`,analyticsLabel:"organization - new repository",href:`/organizations/${y.login}/repositories/new`,LeadingVisual:c.RepoIcon})]})]})})]})}function b(e){let{ref:t,open:r,setOpen:a}=(0,u.Mm)(e.reactPartialAnchor);return(0,n.jsx)(o.W,{anchorRef:t,open:r,onOpenChange:a,children:(0,n.jsx)(f,{...e,isOpen:r,setIsOpen:a})})}function y(e){let t=`global-create-menu-tooltip-${(0,d.useId)()}`,[r,a]=(0,d.useState)(!1);return(0,n.jsxs)(o.W,{open:r,onOpenChange:a,children:[(0,n.jsx)(l.m,{text:"Create New...",type:"label",id:t,children:(0,n.jsx)(o.W.Button,{leadingVisual:c.PlusIcon,children:""})}),(0,n.jsx)(f,{...e,isOpen:r,setIsOpen:a})]})}function j(e){return e.reactPartialAnchor?(0,n.jsx)(b,{...e,reactPartialAnchor:e.reactPartialAnchor}):(0,n.jsx)(y,{...e})}let x={"@media (min-width: 48rem)":{display:"none"}};function v(e){let[t,r]=(0,d.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.W,{open:t,onOpenChange:r,children:[(0,n.jsx)(o.W.Anchor,{children:(0,n.jsxs)(s.l.Item,{sx:x,onSelect:()=>{r(e=>!e)},children:[(0,n.jsx)(s.l.LeadingVisual,{children:(0,n.jsx)(c.PlusIcon,{})}),"Create new"]})}),(0,n.jsx)(f,{...e,isOpen:t,setIsOpen:r,side:"outside-top"})]}),(0,n.jsx)(s.l.Divider,{sx:x})]})}try{m.displayName||(m.displayName="LazyCreateIssueDialog")}catch{}try{p.displayName||(p.displayName="CreateMenuLinkItem")}catch{}try{h.displayName||(h.displayName="CreateMenuItem")}catch{}try{g.displayName||(g.displayName="MenuItemSpinner")}catch{}try{f.displayName||(f.displayName="GlobalCreateMenuOverlay")}catch{}try{b.displayName||(b.displayName="ExternallyAnchoredGlobalCreateMenu")}catch{}try{y.displayName||(y.displayName="GlobalCreateMenuWithAnchor")}catch{}try{j.displayName||(j.displayName="GlobalCreateMenu")}catch{}try{v.displayName||(v.displayName="GlobalCreateMenuItem")}catch{}},23235:(e,t,r)=>{r.d(t,{c:()=>h});var n=r(74848),a=r(96540),s=r(36165),i=r(45588),o=r(49107),l=r(47767),c=r(59840);function d({children:e,history:t}){let[r,s]=(0,a.useState)({location:t.location});return(0,c.m)(()=>t.listen(s),[t]),(0,n.jsx)(l.Ix,{location:r.location,navigator:t,children:e})}try{d.displayName||(d.displayName="PartialRouter")}catch{}var u=r(17857),m=r(51261),_=r(75014),p=r(44196);function h({partialName:e,embeddedData:t,Component:r,wasServerRendered:l,ssrError:c,anchorElement:h,onError:g}){let f=a.useRef(),b=globalThis.window;f.current||(f.current=b?(0,m.z)({window:b}):(0,i.sC)({initialEntries:[{pathname:"/"}]}));let y=f.current,j=(0,_.w8)(h);return(0,n.jsx)(s.U,{appName:e,wasServerRendered:l,children:(0,n.jsx)(p.t,{onError:g,children:(0,n.jsx)(o.Q,{history:y,routes:[],children:(0,n.jsxs)(d,{history:y,children:[(0,n.jsx)(r,{...t.props,...j}),(0,n.jsx)(u.h,{ssrError:c})]})})})})}try{h.displayName||(h.displayName="PartialEntry")}catch{}},24508:(e,t,r)=>{r.d(t,{H:()=>ReactBaseElement});var n=r(74848),a=r(39595),s=r(5338),i=r(96540),o=r(23581),l=r(79461),c=r(51528);function d(e,t,r,n){var a,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}let u=RegExp("Minified React error #(?<invariant>\\d+)"),m=["419","421"];let ReactBaseElement=class ReactBaseElement extends HTMLElement{get name(){return this.getAttribute(this.nameAttribute)}get embeddedDataText(){let e=this.embeddedData?.textContent;if(!e)throw Error(`No embedded data provided for react element ${this.name}`);return e}get hasSSRContent(){return"true"===this.getAttribute("data-ssr")}get attemptedSSR(){return"true"===this.getAttribute("attempted-ssr")}connectedCallback(){this.renderReact()}disconnectedCallback(){this.root?.unmount(),this.root=void 0}async renderReact(){if(!this.reactRoot)throw Error("No react root provided");let e={createRoot:s.H,hydrateRoot:s.c};o.A.isEnabled()&&(e=await this.getReactDomWithProfiling());let t=!1,r=JSON.parse(this.embeddedDataText),a=this.ssrError?.textContent,l=await this.getReactNode(r,e=>{t=!0,setTimeout(()=>{throw e})}),d=(0,n.jsx)(i.StrictMode,{children:l});if(a&&this.logSSRError(a),this.hasSSRContent){let r=this.querySelector('style[data-styled="true"]');r&&document.head.appendChild(r),this.root=e.hydrateRoot(this.reactRoot,d,{onRecoverableError:e=>{if(!(e instanceof Error))return;let r=u.exec(e.message),n=String(r?.groups?.invariant);t=!m.includes(n),(0,c.i)({incrementKey:"REACT_HYDRATION_ERROR",incrementTags:{appName:this.name,invariant:n}})}}),r&&requestIdleCallback(()=>{r.parentElement?.removeChild(r)}),(0,c.i)({incrementKey:"REACT_RENDER",incrementTags:{appName:this.name,csr:!1,error:t,ssr:!0,ssrError:!1}})}else this.root=e.createRoot(this.reactRoot),this.root.render(d),(0,c.i)({incrementKey:"REACT_RENDER",incrementTags:{appName:this.name,csr:!0,error:t,ssr:this.attemptedSSR,ssrError:!!this.ssrError}});this.classList.add("loaded")}getReactDomWithProfiling(){return r.e("react-profiling").then(r.t.bind(r,87335,19))}logSSRError(e){if(l.z[e])return console.error("SSR failed with an expected error:",l.z[e]);try{let t=JSON.parse(e),r=function(e){if(!e.stacktrace)return"";let t="\n ";return e.stacktrace.map(e=>{let{function:r,filename:n,lineno:a,colno:s}=e,i=`${t} at ${r} (${n}:${a}:${s})`;return t=" ",i}).join("\n")}(t);console.error("Error During Alloy SSR:",`${t.type}: ${t.value}
`,t,r)}catch{console.error("Error During Alloy SSR:",e,"unable to parse as json")}}};d([a.aC],ReactBaseElement.prototype,"embeddedData",void 0),d([a.aC],ReactBaseElement.prototype,"ssrError",void 0),d([a.aC],ReactBaseElement.prototype,"reactRoot",void 0);try{u.displayName||(u.displayName="REACT_INVARIANT_ERROR_REGEX")}catch{}}}]);
//# sourceMappingURL=ui_packages_react-core_register-partial_ts-ui_packages_global-create-menu_GlobalCreateMenu_tsx-67f08349d076.js.map